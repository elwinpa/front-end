(function(t){t.fn.equalHeights=function(){var a=0,i=t(this);return i.each(function(){var o=t(this).innerHeight();o>a&&(a=o)}),i.css("height",a)},t("[data-equal]").each(function(){var a=t(this),i=a.data("equal");a.find(i).equalHeights()})})(jQuery);var afterResize=function(){var t={};return function(a,i,o){o||(o="Don't call this twice without a uniqueId"),t[o]&&clearTimeout(t[o]),t[o]=setTimeout(a,i)}}();window.theme=window.theme||{},theme.cacheSelectors=function(){theme.cache={$w:$(window),$body:$("body"),$mobileNavTrigger:$("#MobileNavTrigger"),$mobileNav:$("#MobileNav"),$mobileSublistTrigger:$(".mobile-nav__sublist-trigger .icon-fallback-text"),$productGridImages:$(".grid-link__image--product"),$featuredGridImages:$(".grid-link__image--collection"),$productImage:$("#ProductPhotoImg"),$productImageGallery:$(".gallery__item"),cartNoteAdd:".cart__note-add",cartNote:".cart__note",$cartCount:$(".cart-count"),$addToCartBtn:$('form[action^="/cart/add"] :submit'),$hasDropdownItem:$(".site-nav--has-dropdown")}},timber.cacheVariables=function(){timber.vars={isTouch:timber.cache.$html.hasClass("supports-touch")}},theme.init=function(){theme.cacheSelectors(),theme.mobileNav(),timber.cacheVariables(),theme.equalHeights(),theme.cartPage(),theme.toggleMenu(),theme.productImageGallery()},theme.mobileNav=function(){theme.cache.$mobileNavTrigger.on("click",function(){theme.cache.$mobileNav.toggle(400)}),theme.cache.$mobileSublistTrigger.on("click",function(t){var a=$(this);console.clear(),console.log(a),t.preventDefault(),a.parent(".mobile-nav__sublist-trigger").toggleClass("is-active").next(".mobile-nav__sublist").toggle(400)})},theme.equalHeights=function(){theme.cache.$w.on("load",t()),theme.cache.$w.on("resize",afterResize(function(){t()},250,"equal-heights"));function t(){theme.cache.$productGridImages.css("height","auto").equalHeights(),theme.cache.$featuredGridImages.css("height","auto").equalHeights()}},theme.productImageGallery=function(){!theme.cache.$productImageGallery.length||(theme.cache.$productImageGallery.magnificPopup({type:"image",mainClass:"mfp-fade",closeOnBgClick:!0,closeBtnInside:!1,closeOnContentClick:!0,tClose:"Close (Esc)",removalDelay:500,callbacks:{open:function(){$("html").css("overflow-y","hidden")},close:function(){$("html").css("overflow-y","")}},gallery:{enabled:!0,navigateByImgClick:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"><span class="mfp-chevron mfp-chevron-%dir%"></span></button>',tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)"}}),theme.cache.$productImage.bind("click",function(){var t=$(this).attr("data-image-id");theme.cache.$productImageGallery.filter('[data-image-id="'+t+'"]').trigger("click")}))},theme.cartPage=function(){},theme.backButton=function(){var t=i(document.referrer),a=i(document.url);if(a===t)return history.back(),!1;function i(o){var n=document.createElement("a");return n.href=o,n.hostname}},theme.addToCartflip=function(t){var a=t.attr("data-add-to-cart")||"Add to Cart";t.clone(!0).prop("disabled",!1).removeClass("disabled").addClass("btn--unflipped").find("span").text(a).end().hide().insertAfter(t),t.unbind("click").removeClass("disabled").find("span").text("View cart").end().bind("click",function(i){i.preventDefault(),window.location.href="/cart"}).prop("disabled",!1).addClass("btn--flipped").after('<span class="continue-shopping"> <a class="btn--secondary" href="/collections/all">Continue shopping</a></span>'),$(".continue-shopping a").bind("click",theme.backButton),$('.single-option-selector, [name="quantity"]').bind("click",function(){$(this).closest("form").find(".btn--flipped, .continue-shopping, .note").remove(),$(this).closest("form").find(".btn--unflipped").removeClass(".btn--unflipped").show()})},theme.enableAjax=function(){theme.cache.$addToCartBtn.bind("click",function(e){e.preventDefault(),$(".note.errors").remove();var $addToCartBtn=$(this),$addToCartForm=$(this).closest("form"),$addToCartBtnText=$(this).find("span");$addToCartForm.length&&($addToCartBtn.attr("data-add-to-cart",$addToCartBtnText.text()).prop("disabled",!0).addClass("disabled").addClass("btn--loading"),$.ajax({url:"/cart/add.js",dataType:"json",type:"post",data:$addToCartForm.serialize(),success:function(t){$.getJSON("/cart.js",function(a){theme.cache.$cartCount.text(a.item_count),$(".hidden-count").removeClass("hidden-count")}),$addToCartBtn.removeClass("btn--loading"),theme.addToCartflip($addToCartBtn)},error:function(XMLHttpRequest,textStatus){var data=eval("("+XMLHttpRequest.responseText+")"),response=data.description,status=XMLHttpRequest.status;$addToCartBtn.removeClass("btn--loading"),status===422&&$("#productSelect option").length===1?$addToCartBtnText.text("Sold Out"):($addToCartBtn.prop("disabled",!1).removeClass("disabled"),$addToCartBtnText.text($addToCartBtn.attr("data-add-to-cart"))),$addToCartBtn.after('<p class="note errors">'+response+"</p>")}}))})},theme.toggleMenu=function(){var t=$(document),a="show-dropdown";theme.cache.$hasDropdownItem.on("click",function(i){var o=$(this);!o.hasClass(a)&&timber.vars.isTouch&&(i.preventDefault(),o.addClass(a),t.on("click",n));function n(c){var r=$(c.target);!r.is(o)&&!$.contains(o[0],r[0])&&(o.removeClass(a),t.off("click",n))}})},$("#MobileNavTrigger").click(function(){$("#display_advance").toggle("1000"),$("span",this).toggleClass("icon-hamburger fa fa-close")}),$(theme.init);
//# sourceMappingURL=/s/files/1/1507/1680/t/28/assets/theme.js.map?v=81191889756691055371597126140
